/* styles.css
   Full refreshed stylesheet â€” synced to the index.html & script.js you have
   (uses classes: .social-tile, .tile-btn, img.icon, .tile-embed, #bg-image,
   #gradient-overlay, #particle-canvas, .modal-backdrop, .modal, .modal .modal-icon, etc.)
*/

/* -------------------------
   Root variables & reset
   ------------------------- */
:root{
  --bg-img-scale: 1.15;
  --tile-size: clamp(52px, 12vw, 78px); /* responsive tile size */
  --tile-gap: 12px;
  --max-content-width: 920px;
  --glass-01: rgba(255,255,255,0.02);
  --glass-02: rgba(255,255,255,0.04);
  --muted: rgba(255,255,255,0.88);
  --card-blur: 10px;
  --page-padding: 24px;
  --font-sans: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; width: 100%; overflow-x: hidden; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
body {
  background: #050407;
  color: #fff;
  font-family: var(--font-sans);
  line-height: 1.35;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
}

/* -------------------------
   Background layers
   ------------------------- */
#bg-wrap { position: fixed; inset: 0; z-index: 0; pointer-events: none; overflow: hidden; }
.parallax-layer { position: absolute; inset: 0; will-change: transform, opacity; }

/* background image (swapped by JS) */
#bg-image {
  background-position: center center;
  background-repeat: no-repeat;
  background-size: cover;
  transform-origin: center;
  transform: scale(var(--bg-img-scale));
  filter: saturate(1.03) contrast(0.98);
  transition: transform 220ms linear, background-image 420ms ease;
}

/* gradient overlay */
#gradient-overlay {
  background: linear-gradient(120deg, rgba(205,103,255,0.14), rgba(100,160,255,0.08), rgba(255,120,160,0.06));
  mix-blend-mode: screen;
  background-size: 300% 300%;
  animation: gradient-move 14s ease-in-out infinite;
  opacity: 0.94;
}
@keyframes gradient-move {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* particle canvas */
#particle-canvas { display: block; position: absolute; inset: 0; }

/* -------------------------
   Centered content
   ------------------------- */
.center {
  position: relative;
  z-index: 8;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: calc(var(--page-padding) + env(safe-area-inset-top)) var(--page-padding) calc(var(--page-padding) + env(safe-area-inset-bottom));
}

/* profile container */
.profile {
  width: 100%;
  max-width: var(--max-content-width);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 14px;
  padding: 28px;
}

/* avatar */
#avatar {
  width: 150px;
  height: 150px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid rgba(255,255,255,0.06);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
  box-shadow: 0 18px 36px rgba(8,6,20,0.7), 0 4px 10px rgba(0,0,0,0.5);
}

/* name & subtitle */
.display-name {
  font-size: clamp(20px, 4.6vw, 34px);
  font-weight: 700;
  text-shadow: 0 10px 26px rgba(110,60,200,0.18);
}
.subtitle {
  font-size: clamp(12px, 2.2vw, 15px);
  color: var(--muted);
  opacity: 0.95;
}

/* glass cards */
.card {
  width: 100%;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius: 14px;
  padding: 12px 14px;
  border: 1px solid rgba(255,255,255,0.06);
  backdrop-filter: blur(var(--card-blur));
  -webkit-backdrop-filter: blur(var(--card-blur));
  box-shadow: 0 8px 28px rgba(6,6,12,0.45);
}

/* about */
.about p { color: rgba(255,255,255,0.92); font-size: 14px; line-height: 1.45; }

/* -------------------------
   Social grid (responsive)
   ------------------------- */
.socials { width: 100%; margin-top: 18px; }
.social-grid {
  width: 100%;
  max-width: 840px;
  margin: 0 auto;
  display: grid;
  gap: var(--tile-gap);
  grid-template-columns: repeat(auto-fit, minmax(64px, 1fr)); /* flexible by default */
  align-items: center;
  justify-items: center;
  padding: 6px;
}

/* Force exactly 4 per row on small screens (mobile) */
@media (max-width: 640px) {
  .social-grid { grid-template-columns: repeat(4, 1fr); gap: 10px; }
}

/* Ensures grid doesn't overflow small viewports */
.social-grid { box-sizing: border-box; padding-left: 6px; padding-right: 6px; }

/* social tile wrapper */
.social-tile {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* circular tile button */
.tile-btn {
  --size: var(--tile-size);
  width: var(--size);
  height: var(--size);
  border-radius: 50%;
  display: inline-grid;
  place-items: center;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));
  border: 1px solid rgba(255,255,255,0.04);
  position: relative;
  overflow: visible;
  cursor: pointer;
  transition: transform 160ms cubic-bezier(.2,.9,.3,1), box-shadow 160ms;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  outline: none;
}

/* focus & hover lift */
.tile-btn:focus { transform: translateY(-6px); box-shadow: 0 18px 40px rgba(7,6,20,0.5), 0 0 36px var(--c); }
.tile-btn:hover { transform: translateY(-8px); }

/* icon image, constrained */
img.icon {
  display: block;
  width: auto;
  height: auto;
  max-width: 60%;
  max-height: 60%;
  object-fit: contain;
  filter: invert(1) brightness(2); /* force white look for monochrome icons */
  pointer-events: none;
}

/* Neon glow pseudo-element (circular, uses --c set inline by JS) */
.tile-btn::after{
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 50%;
  pointer-events: none;
  opacity: 0;
  transform: scale(1);
  transition: opacity 160ms ease, transform 160ms ease;
  box-shadow: 0 8px 24px rgba(0,0,0,0.45);
}

/* On hover or active show colored glow using the per-tile --c value */
.tile-btn:hover::after,
.tile-btn[data-active="true"]::after {
  opacity: 1;
  transform: scale(1.04);
  /* box-shadow layers: inner soft, outer neon (uses hex color var --c) */
  box-shadow:
    0 10px 28px rgba(0,0,0,0.48),
    0 0 30px var(--c),
    0 0 60px color-mix(in srgb, var(--c) 35%, transparent);
}

/* Make sure color-mix fallback doesn't break in older browsers: add second declaration with alpha */
.tile-btn:hover::after,
.tile-btn[data-active="true"]::after {
  /* fallback outer glow (semi-transparent) */
  box-shadow: 0 10px 28px rgba(0,0,0,0.48), 0 0 26px rgba(0,0,0,0.12);
}

/* On browsers with support, add the var(--c) glow (kept as separate rule so fallback works) */
@supports (color: #fff) {
  .tile-btn:hover::after,
  .tile-btn[data-active="true"]::after {
    box-shadow:
      0 10px 28px rgba(0,0,0,0.48),
      0 0 28px var(--c),
      0 0 60px color-mix(in srgb, var(--c) 34%, transparent);
  }
}

/* little embed that shows above icon on interaction */
.tile-embed {
  position: absolute;
  left: 50%;
  transform: translate(-50%, -8px) scale(0.98);
  bottom: calc(var(--tile-size) + 10px);
  min-width: 110px;
  padding: 8px 10px;
  border-radius: 10px;
  background: linear-gradient(180deg, rgba(0,0,0,0.55), rgba(8,8,12,0.45));
  color: #fff;
  font-size: 13px;
  text-align: center;
  border: 1px solid rgba(255,255,255,0.04);
  opacity: 0;
  pointer-events: none;
  transition: opacity 160ms ease, transform 160ms ease;
  box-shadow: 0 8px 26px rgba(0,0,0,0.55);
  z-index: 6;
}

/* tiny arrow under embed */
.tile-embed::after{
  content: "";
  position: absolute;
  left: 50%;
  bottom: -8px;
  transform: translateX(-50%);
  width: 12px; height: 12px;
  background: inherit;
  clip-path: polygon(50% 0, 0 100%, 100% 100%);
  border-bottom-left-radius: 2px;
  border-bottom-right-radius: 2px;
  opacity: 0.98;
}

/* show embed on hover/focus/active */
.tile-btn:hover .tile-embed,
.tile-btn:focus .tile-embed,
.tile-btn[data-active="true"] .tile-embed {
  opacity: 1;
  transform: translate(-50%, -14px) scale(1);
  pointer-events: auto;
}

/* if the embed is pushed off-screen on very small heights, nudge it above center */
@media (max-height: 520px) {
  .tile-embed { bottom: calc(var(--tile-size) + 6px); transform: translate(-50%, -6px) scale(0.98); }
}

/* -------------------------
   Modal styles (consistent with JS)
   ------------------------- */
#modal-root { position: fixed; inset: 0; z-index: 120; pointer-events: none; }
.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(3,6,12,0.64);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 18px;
  pointer-events: auto;
}
.modal {
  width: 100%;
  max-width: 520px;
  border-radius: 14px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border: 1px solid rgba(255,255,255,0.06);
  padding: 18px;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  box-shadow: 0 30px 70px rgba(10,10,20,0.6);
  transform-origin: center;
  animation: modal-in 220ms cubic-bezier(.2,.9,.3,1);
}

/* modal animation */
@keyframes modal-in {
  from { transform: translateY(-8px) scale(.98); opacity: 0; }
  to   { transform: translateY(0) scale(1); opacity: 1; }
}

/* top-centered icon inside modal */
.modal .modal-icon {
  width: 72px;
  height: 72px;
  border-radius: 50%;
  margin: -56px auto 8px;
  display: grid;
  place-items: center;
  border: 3px solid rgba(255,255,255,0.06);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));
  box-shadow: 0 10px 36px rgba(0,0,0,0.45), 0 0 22px color-mix(in srgb, var(--c, #888) 30%, transparent);
}
.modal .modal-icon img { width: 46%; filter: invert(1) brightness(2); }

/* title and link box */
.modal .title { font-weight: 700; text-align: center; margin: 6px 0 10px; font-size: 18px; color: #fff; }
.modal .link { word-break: break-all; background: rgba(255,255,255,0.02); padding: 10px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.03); margin-bottom: 14px; font-size: 14px; color: var(--muted); text-align: center; }

/* modal actions */
.modal .actions { display:flex; gap:8px; justify-content:center; flex-wrap:wrap; margin-bottom: 8px; }
.btn {
  padding: 9px 12px;
  border-radius: 10px;
  border: none;
  cursor: pointer;
  background: rgba(255,255,255,0.03);
  color: #fff;
  min-width: 100px;
  font-weight: 700;
  transition: transform 120ms, box-shadow 120ms;
}
.btn:active { transform: translateY(1px); }
.btn.strong {
  background: linear-gradient(90deg, rgba(205,103,255,0.16), rgba(100,160,255,0.12));
  border: 1px solid rgba(255,255,255,0.06);
}
.btn.ghost { background: transparent; border: 1px solid rgba(255,255,255,0.06); }
.btn.warn { background: linear-gradient(90deg, rgba(255,70,90,0.14), rgba(255,40,40,0.08)); border: 1px solid rgba(255,40,40,0.12); color: #fff; }

/* subtle neon outline for primary buttons using var --c */
.btn.primary {
  box-shadow: 0 8px 28px color-mix(in srgb, var(--c, #7f7f7f) 35%, transparent), 0 0 28px color-mix(in srgb, var(--c, #7f7f7f) 28%, transparent);
}
.btn.copy { box-shadow: 0 6px 20px rgba(0,0,0,0.45); }
.btn.close {
  min-width: 140px;
  background: transparent;
  border: 1px solid rgba(255,255,255,0.06);
}

/* mobile modal tweaks */
@media (max-width: 640px) {
  .modal { max-width: 92%; padding: 14px; border-radius: 12px; }
  .modal .modal-icon { width: 64px; height: 64px; margin-top: -44px; }
  :root { --tile-size: clamp(48px, 11.5vw, 70px); } /* slightly smaller tiles on mobile */
}

/* ensure hidden attribute respected */
[hidden] { display: none !important; }

/* accessibility focus styles */
:focus { outline: none; }
.tile-btn:focus-visible { box-shadow: 0 0 0 4px rgba(120,100,255,0.12); }

/* small polish to prevent accidental horizontal scroll */
body, #page-root, #app { overflow-x: hidden; }
